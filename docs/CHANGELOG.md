# 产品迭代日志

记录成长日记系统的版本更新和迭代历程。

---

## [1.0.0] - 2026-01-15

### 🎉 首个 MVP 版本发布

完成核心功能闭环：输入日志 → AI 分析 → 结构化存储 → 时间线展示

#### 新增功能

**Agent 系统**
- ✅ Prompt Registry - Agent prompt 热更新与版本管理
- ✅ Recorder Agent - 将用户日志转换为结构化 FactCard
- ✅ Expert Agent - 基于上下文提供专家级育儿建议
- ✅ Orchestrator - Agent 流水线编排

**数据层**
- ✅ Entry 模型 - 原始日志存储
- ✅ FactCard 模型 - 结构化事实卡
- ✅ ExpertAnalysis 模型 - 专家分析结果
- ✅ 标签检索功能
- ✅ pgvector 向量字段预留

**前端页面**
- ✅ 日志输入表单（日期、年龄、内容）
- ✅ 时间线展示（支持展开详情）
- ✅ 标签样式（按类别着色）
- ✅ 加载状态和错误提示

**基础设施**
- ✅ Next.js 14 项目结构
- ✅ Prisma + Supabase PostgreSQL
- ✅ OpenAI GPT-4o 集成
- ✅ TailwindCSS 样式系统

#### 技术细节

- 数据库 Schema 包含 9 个表
- 支持 Prompt 版本管理和灰度发布
- 检索策略：最近 3 条 + 标签相似 3 条

---

## 开发计划

### [1.1.0] - 计划中

**语义检索增强**
- [ ] OpenAI Embedding API 集成
- [ ] pgvector 向量相似度检索
- [ ] 混合检索策略优化

**周期摘要**
- [ ] 周摘要自动生成（后台任务）
- [ ] 周报展示页面

**配置功能**
- [ ] 孩子档案设置（生日、关注领域）
- [ ] 策略库管理界面

### [1.2.0] - 计划中

**价值观系统**
- [ ] Values Agent 集成
- [ ] 价值观原则编辑页面
- [ ] 建议与价值观对齐检查

**数据分析**
- [ ] 月度成长报告
- [ ] 数据导出（JSON/CSV）
- [ ] 标签统计图表

### [2.0.0] - 远期规划

- [ ] 多孩子支持
- [ ] Knowledge Pack（可插拔知识包）
- [ ] 家庭成员协作
- [ ] 移动端 PWA
- [ ] 端到端加密

---

## 版本命名规则

- **主版本号**: 重大功能变更或架构调整
- **次版本号**: 新功能添加
- **修订号**: Bug 修复和小改进

---

## 贡献者

- 产品设计 & 开发: @xiaoxiao
- AI 辅助: Claude Opus 4.5
